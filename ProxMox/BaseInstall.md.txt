# Change password if required
passwd root

# Disable Swapfile (https://blog.lbdg.me/proxmox-best-performance-disable-swappiness/)
# Check the current value
cat /proc/sys/vm/swappiness

# Define the new one
sysctl vm.swappiness=0

# Disable SWAP, it'll take some times to clean the SWAP area
swapoff -a

# Storage
# Prerpare Storage: - https://www.hostfav.com/blog/index.php/2017/02/01/add-a-new-physical-hard-drive-to-proxmox-ve-4x-5x/
Use this Guide!

# Remove Proxmox Subscription Notice
sed -Ezi.bak "s/(Ext.Msg.show\(\{\s+title: gettext\('No valid sub)/void\(\{ \/\/\1/g" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service

# Create Host Config Bacvkup Script
touch /etc/cron.daily/pvehost-backup
chmod 755 /etc/cron.daily/pvehost-backup
nano /etc/cron.daily/pvehost-backup

#!/bin/sh
BACKUP_PATH="/var/tmp/"
BACKUP_FILE="pve-host"
KEEP_DAYS=7
PVE_BACKUP_SET="/etc/pve/ /etc/lvm/ /etc/modprobe.d/ /etc/network/interfaces /etc/vzdump.conf /etc/sysctl.conf /etc/resolv.conf /etc/ksmtuned.conf /etc/hosts /etc/hostname /etc/cron* /etc/aliases"
PVE_CUSTOM_BACKUP_SET="/etc/apcupsd/ /etc/multipath/ /etc/multipath.conf"
    
tar -czf $BACKUP_PATH$BACKUP_FILE-$(date +%Y_%m_%d-%H_%M_%S).tar.gz --absolute-names $PVE_BACKUP_SET $PVE_CUSTOM_BACKUP_SET
find $BACKUP_PATH$BACKUP_FILE-* -mindepth 0 -maxdepth 0 -depth -mtime +$KEEP_DAYS -delete

# How to Update Proxmox Without Subscription
cd /etc/apt/sources.list.d/
cp pve-enterprise.list pve-no-subscription.list
echo "deb http://download.proxmox.com/debian/pve buster pve-no-subscription" > pve-no-subscription.list
apt-get update
# And when that’s done, run software upgrades!
apt-get dist-upgrade
# Note: Always run dist-upgrade, not just “apt-get upgrade.” Dist-upgrade ensures that all the packages and their dependencies are updated. If you just run “apt-get upgrade” things may break. 

==========================

fdisk -l (to find the right device (usually /dev/sd*))

or

wipefs --all /dev/sd*

fdisk /dev/sd* (to edit the disk)

	choose d to delete existing partition (you might need to do it several times, until there is no partition anymore)
	then w to write the deletion

fdisk /dev/sd* (to edit the disk again)

	g to create the new partition
	w to write it

# Create FS - https://nubcakes.net/index.php/2019/03/05/how-to-add-storage-to-proxmox/
mkfs.ext4 -L adisk /dev/sd*


# Mount Docker Storage - https://forum.proxmox.com/threads/how-to-mount-existing-disk-to-storage.66559/
mkdir /mnt/SSD1
mount /dev/sdb1 /mnt/SSD1

# Mount Storage - https://forum.proxmox.com/threads/how-to-mount-existing-disk-to-storage.66559/
mkdir /mnt/HDD1-1TB
mount /dev/sdc1 /mnt/HDD1-1TB

#get UUID of disk
blkid

# Record SupoerBlocks
dumpe2fs /dev/sd** | grep -i superblock


